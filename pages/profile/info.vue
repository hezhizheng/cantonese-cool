<template>
	<view>
		<view class="u-m-t-20">
			<u-cell-group>
				<u-cell-item v-on:click="chooseAvatar" title="å¤´åƒ"><u-avatar :src="pic" ></u-avatar></u-cell-item>
				<u-cell-item v-on:click="GoName" title="æ˜µç§°">hzz</u-cell-item>
			</u-cell-group>
		</view>
		
		
		<u-toast ref="uToast"></u-toast>
	</view>
</template>
</template>

<script>
	export default {
		data() {
			return {
				pic:'https://static01.imgkr.com/temp/58333e3d93d5444f8f308c0fe9dfb9a3.jpg',
				show:true,
			}
		},
		created() {
			uni.$on('uAvatarCropper', path => {
				this.avatar = path;
				this.pic = path;
				// å¯ä»¥åœ¨æ­¤ä¸Šä¼ åˆ°æœåŠ¡ç«¯
				// uni.uploadFile({
				// 	url: 'http://192.168.100.17/index.php/index/index/upload',
				// 	filePath: path,
				// 	name: 'file',
				// 	complete: (res) => {
				// 		console.log(res);
				// 	}
				// });
			})
		},
		onLoad() {
			
		},
		methods: {
			Tip: function (e) {
				this.$refs.uToast.show({
					type: 'warning',
					title: 'æ•¬è¯·æœŸå¾… ğŸ˜'
				})
				return false;
			},
			GoName: function (e) {
				return uni.navigateTo({
				    url: './name',
					fail: function (e){
						console.log(e)
					}
				});
			},
			chooseAvatar() {
				this.$u.route({
					url: '/uview-ui/components/u-avatar-cropper/u-avatar-cropper',
					params: {
						// è¾“å‡ºå›¾ç‰‡å®½åº¦ï¼Œé«˜ç­‰äºå®½ï¼Œå•ä½px
						destWidth: 300,
						// è£å‰ªæ¡†å®½åº¦ï¼Œé«˜ç­‰äºå®½ï¼Œå•ä½px
						rectWidth: 200,
						// è¾“å‡ºçš„å›¾ç‰‡ç±»å‹ï¼Œå¦‚æœ'png'ç±»å‹å‘ç°è£å‰ªçš„å›¾ç‰‡å¤ªå¤§ï¼Œæ”¹æˆ"jpg"å³å¯
						fileType: 'jpg',
					}
				})
			},
				
		}
	}
</script>

<style lang="scss">
page{
	background-color: #ededed;
}

.camera{
	width: 54px;
	height: 44px;
	
	&:active{
		background-color: #ededed;
	}
}
.user-box{
	background-color: #fff;
}

#cell-click{
	background-color: rgb(235, 237, 238);
}

</style>
